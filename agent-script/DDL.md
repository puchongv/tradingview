-- DDL generated by Postico 2.2.2
-- Not all database features are supported. Do not use for backup.

-- Table Definition ----------------------------------------------

CREATE TABLE tradingviewdata (
    id SERIAL PRIMARY KEY,
    action character varying(50),
    symbol character varying(20) NOT NULL,
    strategy character varying(100) NOT NULL,
    tf character varying(20),
    entry_time timestamp without time zone NOT NULL,
    entry_price numeric(20,8) NOT NULL,
    order_value numeric(20,8) NOT NULL,
    order_interval integer NOT NULL,
    price_10min numeric(20,8),
    price_10min_ts timestamp without time zone,
    price_30min numeric(20,8),
    price_30min_ts timestamp without time zone,
    price_60min numeric(20,8),
    price_60min_ts timestamp without time zone,
    price_1day numeric(20,8),
    price_1day_ts timestamp without time zone,
    result_10min character varying(10) CHECK (result_10min::text = ANY (ARRAY['WIN'::character varying::text, 'LOSE'::character varying::text, 'ERROR'::character varying::text])),
    result_30min character varying(10) CHECK (result_30min::text = ANY (ARRAY['WIN'::character varying::text, 'LOSE'::character varying::text, 'ERROR'::character varying::text])),
    result_60min character varying(10) CHECK (result_60min::text = ANY (ARRAY['WIN'::character varying::text, 'LOSE'::character varying::text, 'ERROR'::character varying::text])),
    result_1day character varying(10) CHECK (result_1day::text = ANY (ARRAY['WIN'::character varying::text, 'LOSE'::character varying::text, 'ERROR'::character varying::text])),
    pnl numeric(20,8),
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone DEFAULT now(),
    trade boolean,
    martingale boolean,
    signal_time text
);

-- Indices -------------------------------------------------------

CREATE UNIQUE INDEX tradingviewdata_pkey ON tradingviewdata(id int4_ops);
